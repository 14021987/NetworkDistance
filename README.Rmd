---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "88%"
)
```
# NetworkDistance

[![CRAN_Status_Badge](http://www.r-pkg.org/badges/version/NetworkDistance?color=green)](https://cran.r-project.org/package=NetworkDistance)
[![Travis-CI Build Status](https://travis-ci.org/kisungyou/NetworkDistance.svg?branch=master)](https://travis-ci.org/kisungyou/NetworkDistance)
[![](https://cranlogs.r-pkg.org/badges/NetworkDistance)](https://cran.r-project.org/package=NetworkDistance)

NetworkDistance package is a collection of *inter-*, *between-*graph distance measures. Instead of graph distance that measures 
the degree of farness between nodes within a graph, we consider each network as an object and compute distance between those objects. 

## Installation

You can install the released version of NetworkDistance from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("NetworkDistance")
```
or the development version from github:
```r
## install.packages("devtools")
devtools::install_github("kisungyou/NetworkDistance")
```

## Usage
Surely, the first thing we are always bound to do is to load the package,
```{r call}
library(NetworkDistance)
```
Suppose you have $N$ network objects represented as square adjacency matrices. All the functions in the package require your data to be in a form of `list` whose elements are your adjacency matrices. Let's load example data `graph20`.
```{r load}
data(graph20)     # use `help(graph20)' to see more details.
typeof(graph20)   # needs to be a list
```
Before proceeding any further, since we have two types of graphs - densely and sparsely connected with $p=0.8$ and $p=0.2$ - we know that the distance matrix should show block-like pattern. Below is two example graphs from the dataset.
```{r showgraph, echo=FALSE}
suppressMessages(library(igraph))
par(mfrow=c(1,2),pty="s")
plot(graph_from_adjacency_matrix(graph20[[7]], mode="undirected"), vertex.size=7, vertex.label=NA, main="graph No.7", edge.arrow.size=.5)
plot(graph_from_adjacency_matrix(graph20[[18]], mode="undirected"), vertex.size=7, vertex.label=NA, main="graph No.18", edge.arrow.size=.5)
```
Once you have your data in such a form, all you've got is to run a single-line code to acquire distance numerics, resulting in either a `dist` class object or a square matrix. For example, let's compute *graph diffusion distance* by Hammond et al. (2013) on our example set.
```{r run}
dist.gdd <- nd.gdd(graph20)  # return as a 'dist' object
```
and you can see the discriminating pattern from the distance matrix `dist.gdd$D` with black represents $0$ and white represents the largest positive number, indicating large deviation from 0.
```{r run_vis1, echo=FALSE}
par(pty="s")
dmat = as.matrix(dist.gdd$D)
image(dmat[,20:1],main="pairwise distance matrix",axes=FALSE,col=gray(0:100/100)) 
```
Finally, let's compare different methods as well.
```{r compare}
dist.wsd <- nd.wsd(graph20)              # spectrum-weighted distance
dist.dsd <- nd.dsd(graph20, type="SLap") # discrete spectral measure
dist.nfd <- nd.nfd(graph20)              # network flow distance
```
```{r run_vis2, echo=FALSE}
par(mfrow=c(1,3),pty="s")
image(as.matrix(dist.wsd$D)[,20:1],main="nd.wsd",axes=FALSE,col=gray(0:100/100)) 
image(as.matrix(dist.dsd$D)[,20:1],main="nd.dsd",axes=FALSE,col=gray(0:100/100)) 
image(as.matrix(dist.nfd$D)[,20:1],main="nd.nfd",axes=FALSE,col=gray(0:100/100)) 
```

## Currently Available Methods
We support following methds at this stage and the collection will be expanded continuously.

|Function       | Reference                  | Description                                     |
|---------------|:--------------------------:|-------------------------------------------------|
|`nd.centrality`| Roy et al. (2014)          | Distance by Network Centrality Measures         |
|`nd.csd`       | Ipsen and Mikhailov (2002) | $L_2$ Distance of Continuous Spectral Densities |
|`nd.dsd`       | Wilson and Zhu (2008)      | Discrete Spectral Distance                      |
|`nd.edd`       |                            | Edge Difference Distance                        |
|`nd.extremal`  | Jakobson and Rivin (2002)  | Extremal Distance with Top-$k$ Eigenvalues      |
|`nd.gdd`       | Hammond et al. (2013)      | Graph Diffusion Distance                        |
|`nd.hamming`   | Hamming (1950)             | Hamming Distance                                |
|`nd.him`       | Jurman et al. (2015)       | Hamming-Ipsen-Mikhailov (HIM) Distance          | 
|`nd.nfd`       | Bao et al. (2018)          | Network Flow Distance                           |
|`nd.wsd`       | Fay et al. (2010)          | Distance with Weighted Spectral Distribution    |

## Code of Conduct
Please note that the 'NetworkDistance' project is released with a [Contributor Code of Conduct](CODE_OF_CONDUCT.md). By contributing to this project, you agree to abide by its terms.
